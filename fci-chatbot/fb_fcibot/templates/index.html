<html>
    <head>
        <title>FCI-Eligibility_Test</title>
        <style>
            body{
    font-size: 30px;
    color:black;
    font-weight: 300;
    text-align: center;
    background-color: darkgray;
}
.question{
    font-size: 30px;
    margin-bottom: 10px;
    margin-left: 2%;
    text-align: left;
    font-family:Arial, Helvetica, sans-serif;
}
.answers {
    margin-bottom: 20px;
    text-align: left;
    display: inline-block;
}
.answers label{
    display: block;
    margin-bottom: 10px;
}
button{
    font-size: 28px;
    background-color: #229;
    color: yellow;
    border: 0px;
    border-radius: 3px;
    padding: 20px;
    cursor: pointer;
    margin-top: 25px;
    
}
button:hover{
    background-color: #38a;
}
.slide{
    background-color: burlywood;
    border-color: black;
    border-style: solid;
    position: absolute;
    left: 10%;
    top: 0px;
    width: 80%;
    z-index: 1;
    opacity: 0;
    transition: opacity 0.5s;
}
.active-slide{
    opacity: 1;
    z-index: 2;
}
.quiz-container{
    position: relative;
    height: 250px;
    margin-top: 40px;
}
.header{
    background-repeat:repeat-x 0 0;
    margin-top: 5%;
    width: 100%;
}   
        </style>
    </head>
    <body>        
        <div class="header">
            <a href="https://ibb.co/nANAwd"><img src="https://preview.ibb.co/ct58hJ/fc2.png" alt="fc2" border="0"></a>
        </div>
        <div class="quiz-container">
          <div id="quiz"></div>
        </div>
        <button id="previous" onclick="showPreviousSlide()" type="button">Back</button>
        <button id="next" onclick="showNextSlide()" type="button" value="Next">Next</button>
        <button id="submit" onclick="showResults()" type="button" value="Submit Quiz">Submit Quiz</button>
        <button id="submit" onclick="location.href='https://www.facebook.com/FCI-ChatBot-402585240256901/?ref=br_tf'" type="button" value="Back to chatbot">Back to chatbot</button>
        <div id="results"></div>
        <script >
            var myQuestions = [
               
    { 
        question: "Look at this series: 2, 1, (1/2), (1/4), ... What number should come next?",
        answers: {a: "(1/3)",b: "(1/8)",c: "(2/8)"
        },
        correctAnswer: "b"
    },
    { 
        question: "Look at this series: 7, 10, 8, 11, 9, 12, ... What number should come next?",
        answers: {a:"7", b:"10", c:"12"},
        correctAnswer: "b"
    },
    { 
        question: "Look at this series: 36, 34, 30, 28, 24, ... What number should come next?",
        answers: {a:" 20", b:" 22",c: "23 "}, 
        correctAnswer:"b"
    },
    { 
        question: "Look at this series: 22, 21, 23, 22, 24, 23, ... What number should come next?",
        answers: { a:"24", b:"25" , c:"26"},
        correctAnswer: "c"
    },
    { 
        question: "Look at this series: 53, 53, 40, 40, 27, 27, ... What number should come next?",
        answers: {a:"12", b:"14", c:"27" },
        correctAnswer:"b"
    },
    { 
        question: "Look at this series: 21, 9, 21, 11, 21, 13, 21, ... What number should come next?",
        answers: {a:"14", b:"15", c:"21" },
        correctAnswer: "b"
    },
    { 
        question: "Look at this series: 58, 52, 46, 40, 34, ... What number should come next?",
        answers: {a:"26", b:"28", c:"30" },
        correctAnswer: "b"
    },
    { 
        question: "Look at this series: 3, 4, 7, 8, 11, 12, ... What number should come next?",
        answers: { a:"10",b: "14" , c:"15"},
        correctAnswer: "c"
    },
    { 
        question: "Look at this series: 8, 22, 8, 28, 8, ... What number should come next?",
        answers: { a:"29", b:"32" , c:"34"},  
        correctAnswer: "c"
    },
    { 
        question: "Look at this series: 31, 29, 24, 22, 17, ... What number should come next?",
        answers: {a:"15", b:"14",c: "13"},  
        correctAnswer: "a"
    }


    ,
    { 
        question: "Look at this series: 1.5, 2.3, 3.1, 3.9, ... What number should come next?",
        answers: {a:"4.2", b:"4.4",c: "4.7"},  
        correctAnswer: "c"
    }

     ,
    { 
        question: "Look at this series: 31, 29, 24, 22, 17, ... What number should come next?",
        answers: {a:"15", b:"14",c: "13"},  
        correctAnswer: "a"
    }


     ,
    { 
        question: "Look at this series: 14, 28, 20, 40, 32, 64, ... What number should come next?",
        answers: {a:"52", b:"56",c: "96"},  
        correctAnswer: "b"
    }

     ,
    { 
        question: "Look at this series: 2, 4, 6, 8, 10, ... What number should come next?",
        answers: {a:"11", b:"12",c: "13"},  
        correctAnswer: "b"
    }

     ,
    { 
        question: "Look at this series: 201, 202, 204, 207, ... What number should come next?",
        answers: { a:"208",b: "210",c:"211"},  
        correctAnswer: "c"
    }
    ,
    { 
        question: "Look at this series: 544, 509, 474, 439, ... What number should come next?",
        answers: {a:"404", b:"414",c: "420"},  
        correctAnswer: "a"
    }
    ,
    { 
        question: "Look at this series: 80, 10, 70, 15, 60, ... What number should come next?",
        answers: {a:"20", b:"25",c: "30"},  
        correctAnswer: "a"
    }
    ,
    { 
        question: "Look at this series: 2, 6, 18, 54, ... What number should come next?",
        answers: {a:"108", b:"148",c: "162"},  
        correctAnswer: "c"
    }
    ,
    { 
        question: "Look at this series: 5.2, 4.8, 4.4, 4, ... What number should come next?",
        answers: { a:"3.3",b: "3.5",c:"3.6"},  
        correctAnswer: "c"
    }
    ,
    { 
        question: "Look at this series: 8, 6, 9, 23, 87 , ... What number should come next?",
        answers: { a:"226",b: "324",c:"429"},  
        correctAnswer: "c"
    }

];














function buildQuiz() {
    var output = [];

    myQuestions.forEach((currentQuestion, questionNumber) => {
        var answers = [];

        for (letter in currentQuestion.answers) {
        answers.push(
          `<label>
             <input type="radio" name="question${questionNumber}" value="${letter}">
              ${letter} :
              ${currentQuestion.answers[letter]}
           </label>`
        );
        }

        output.push(
        `<div class="slide">
           <div class="question"> ${currentQuestion.question} </div>
           <div class="answers"> ${answers.join("")} </div>
         </div>`
        );
        });

    quizContainer.innerHTML = output.join("");
}

function showResults() {
    var answerContainers = quizContainer.querySelectorAll(".answers");

    let numCorrect = 0;

    myQuestions.forEach((currentQuestion, questionNumber) => {
        var answerContainer = answerContainers[questionNumber];
        var selector = `input[name=question${questionNumber}]:checked`;
        var userAnswer = (answerContainer.querySelector(selector) || {}).value;

        if (userAnswer === currentQuestion.correctAnswer) {
        numCorrect++;

        answerContainers[questionNumber].style.color = "lightgreen";
        } else {
        answerContainers[questionNumber].style.color = "red";
        }
        });

    resultsContainer.innerHTML = `${numCorrect} out of ${myQuestions.length}`;
}

function showSlide(n) {
    previousSlide = currentSlide;
    slides[currentSlide].classList.remove("active-slide");
    slides[n].classList.add("active-slide");
    currentSlide = n;

    if (counter === 0) {
        previousButton.style.display = "none";
    } 
    else {
        previousButton.style.display = "inline-block";
    }

    if (counter === slides.length - 1) {
        nextButton.style.display = "none";
        submitButton.style.display = "inline-block";
    } 
    else {
        nextButton.style.display = "inline-block";
        submitButton.style.display = "none";
    }
}

function showNextSlide() {
    let sl = Math.floor(Math.random()*19);
    numarr[counter]=sl;
	counter++;
    console.log(numarr[counter-1]);
    showSlide(sl);
    
}

function showPreviousSlide() {
	counter--;
    showSlide(numarr[counter]);
	
}

var quizContainer = document.getElementById("quiz");
var resultsContainer = document.getElementById("results");
var submitButton = document.getElementById("submit");

buildQuiz();

var previousButton = document.getElementById("previous");
var nextButton = document.getElementById("next");
var slides = document.querySelectorAll(".slide");
let currentSlide = 0;
let previousSlide = 0;
let counter = 0;
var numarr = [];
showSlide(0);
//submitButton.addEventListener("click", showResults);
//previousButton.addEventListener("click", showPreviousSlide);
//nextButton.addEventListener("click", showNextSlide);
        </script>
        
    </body>
</html>